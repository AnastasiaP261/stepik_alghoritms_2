# –ó–∞–¥–∞—á–∏ —Å –∫—É—Ä—Å–∞ Stepik "–ê–ª–≥–æ—Ä–∏—Ç–º—ã: –¢–µ–æ—Ä–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö"
[C—Å—ã–ª–∫–∞ –Ω–∞ –∫—É—Ä—Å](https://stepik.org/course/1547/info)

–í —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —è –±—É–¥—É –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–æ–±–∏—Ä–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á —Å–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –∫—É—Ä—Å–∞ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º.


###  –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á:
- üü¢ - –∑–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞ –∏ –ø—Ä–æ—à–ª–∞ –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–µ—Å—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- üü° - –∑–∞–¥–∞—á–∞ —Ä–µ—à–µ–Ω–∞, –Ω–æ –Ω–µ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø—Ä–æ–π–¥–µ–Ω—ã

### –î—Ä—É–≥–∏–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è:
- <kbd>file_name</kbd> - –∏–º—è —Ñ–∞–π–ª–∞ —Ä–µ—à–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏

###  –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
1. üü¢ [–†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ–±–æ–∫ –≤ –∫–æ–¥–µ](https://github.com/AnastasiaP261/stepik_alghoritms_2#%D1%80%D0%B0%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%81%D0%BA%D0%BE%D0%B1%D0%BE%D0%BA-%D0%B2-%D0%BA%D0%BE%D0%B4%D0%B5)
    <kbd>brace_placement.py</kbd>
2. üü¢ [–í—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞](https://github.com/AnastasiaP261/stepik_alghoritms_2#%D0%B2%D1%8B%D1%81%D0%BE%D1%82%D0%B0-%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%B0)
    <kbd>tree_height.py</kbd>   
   
## –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ–±–æ–∫ –≤ –∫–æ–¥–µ
–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏:
>**–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–∞.** –°—Ç—Ä–æ–∫–∞ _s[1..n]_, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –∑–∞–≥–ª–∞–≤–Ω—ã—Ö –∏ –ø—Ä–æ–ø–∏—Å–Ω—ã—Ö –±—É–∫–≤ –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞,
> —Ü–∏—Ñ—Ä, –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Å–∫–æ–±–æ–∫ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ []{}().  
> **–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–∞.** –ï—Å–ª–∏ —Å–∫–æ–±–∫–∏ –≤ _s_ —Ä–∞—Å—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã–≤–µ–¥–∏—Ç–µ
—Å—Ç—Ä–æ–∫—É "Success". –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã–≤–µ–¥–∏—Ç–µ –∏–Ω–¥–µ–∫—Å (–∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —Å –µ–¥–∏–Ω–∏—Ü—ã) 
> –ø–µ—Ä–≤–æ–π –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–π —Å–∫–æ–±–∫–∏, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–π. –ï—Å–ª–∏ —Ç–∞–∫–æ–π –Ω–µ—Ç, 
> –≤—ã–≤–µ–¥–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–π –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–π —Å–∫–æ–±–∫–∏, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–π.

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—ç–∫ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.

–ö–æ–¥:
``` python
from collections import deque


def counting_braces(s):
    stack = deque([])
    braces = {'(': ')', '[': ']', '{': '}'}

    for i, ch in enumerate(s, 1):
        if ch in braces.keys():
            stack.append((ch, i))
        elif ch in braces.values():
            if not stack:
                return i
            elif ch == braces[stack[-1][0]]:
                stack.pop()
            else:
                return i

    if not stack:
        return 0
    return stack[-1][1]


def main():
    s = input()

    answer = counting_braces(s)
    if answer == 0:
        print('Success')
    else:
        print(answer)
```

## –í—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞
–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏:
> **–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–∞.** –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ _1 ‚â§ n ‚â§ 10<sup>5</sup>_. –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç _n_ —Ü–µ–ª—ã—Ö 
> —á–∏—Å–µ–ª _parent<sub>0</sub>, ..., parent<sub>n‚àí1</sub>_. –î–ª—è –∫–∞–∂–¥–æ–≥–æ _0 ‚â§ i ‚â§ n‚àí1_, _parenti_ ‚Äî —Ä–æ–¥–∏—Ç–µ–ª—å –≤–µ—Ä—à–∏–Ω—ã _i_; 
> –µ—Å–ª–∏ _parenti_ = _‚àí1_, —Ç–æ _i_ —è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–º. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –∫–æ—Ä–µ–Ω—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –¥–∞–Ω–Ω–∞—è 
> –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–¥–∞—ë—Ç –¥–µ—Ä–µ–≤–æ.  
> **–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–∞.** –í—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞.

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤ (–∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Å–ø–∏—Å–∫–æ–º —Ä–æ–¥–∏—Ç–µ–ª–µ–π) –≤ —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π (–∏–ª–∏ —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–µ–π).
–°–æ–∑–¥–∞–¥–∏–º –æ—á–µ—Ä–µ–¥—å, –≤ –∫–æ—Ç–æ—Ä—É—é –¥–æ–±–∞–≤–∏–º –≤–µ—Ä—à–∏–Ω—É-–∫–æ—Ä–µ–Ω—å –∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å —É—Ä–æ–≤–Ω—è(–±–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É –º—ã —Å–º–æ–∂–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–æ–≥–¥–∞
–º—ã –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ä–µ–≤–∞). –î–∞–ª–µ–µ –≤ —Ü–∏–∫–ª–µ –ø—Ä–æ—Ö–æ–¥—è –ø–æ –æ—á–µ—Ä–µ–¥–∏ –∏–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ –Ω–µ–µ –∫–∞–∂–¥—É—é –≤–µ—Ä—à–∏–Ω—É –∏ 
–¥–æ–±–∞–≤–ª—è–µ–º –µ–µ –¥–µ—Ç–µ–π. –ï—Å–ª–∏ –≤—Å—Ç—Ä–µ—á–∞–µ–º –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å, —Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –≤—ã—Å–æ—Ç—ã –Ω–∞ 1.
–°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤—ã–π–¥–µ—Ç –û(n).

–ö–æ–¥:
``` python
def transformation(parents_list, n):
    adj_list = [[] for _ in range(n)]
    root_index = -1

    for child, parent in enumerate(parents_list, 1):
        if parent != -1:
            adj_list[parent].append(child - 1)
        else:
            root_index = child - 1

    return adj_list, root_index


def calc(_list):
    _list, root = transformation(_list, len(_list))
    height = 1
    queue = []

    queue.extend(_list[root])
    if len(queue) == 0:
        return height
    else:
        queue.append(-1)            # –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å —É—Ä–æ–≤–Ω—è

    while queue:
        cur_peak = queue.pop(0)
        if cur_peak == -1:
            height += 1
            if queue: queue.append(-1)
        else:
            queue.extend(_list[cur_peak])

    print(height)
    return height


def main():
    n = int(input())
    print(calc(list(map(int, input().split()))))
```

<!---
## –ù–∞–∑–≤–∞–Ω–∏–µ
–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏:
>

–¢–µ–∫—Å—Ç

–ö–æ–¥:
``` python

```
-->